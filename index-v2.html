<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paper, Rock, Scissers </title>
</head>
<body>
    
    <button id='rock'>Rock</button>
    <button id='paper'>Paper</button>
    <button id='scissors'>Scissors</button>

    <div id="scoreboard">
        
        <h2 id="scoreboard-title">Scoreboard</h2>

        <div id='score-card'>
            <h3 id='player-team-title'>Player</h2>
            <p id='player-score'>0</p>
        </div>

        <div id='score-card'>
            <h3 id='computer-team-title'>Computer</h2>
            <p id='computer-score'>0</p>
        </div>

    </div>

</body>

<script>

function computerPlay(){
    let computerPick = Math.floor(Math.random()*3);

    switch (computerPick){
        case 0:
            return "rock";
            break;
        case 1:
            return "paper";
            break;
        case 2: 
            return "scissors";
            break;
    }
}

function playRound(computerSelection, playerSelection) {

    if (computerSelection === playerSelection) {
        return 0;

    } else if (computerSelection === "rock" && playerSelection === "scissors") {
        return 1;

    } else if (computerSelection === "scissors" && playerSelection === "paper"){
        return 1;

    } else if (computerSelection === "paper" && playerSelection === "rock"){
        return 1;

    } else if (computerSelection === "rock" && playerSelection === "paper"){
        return 2;

    } else if (computerSelection === "scissors" && playerSelection === "rock"){
        return 2;

    } else if (computerSelection === "paper" && playerSelection === "scissors"){
        return 2;

    } else {
        return 3;
    }
}

function gameOver() {
    if (playerScore > computerScore){
            console.log( "YOU WON THE GAME!" );
        } else {
            console.log( "Computer wins. Better luck next time." );
        }
    playerScore = 0;
    computerScore = 0;
}

let playerScore = 0;
let computerScore = 0;
let maxScore = prompt('What score do you want to play to?');

function game(e) {
    const playerChoice = document.querySelector(`button[id='${e.target.id}']`);
    let playerSelection = playerChoice.id;
    let computerSelection = computerPlay();

    let currentRound = playRound(computerSelection, playerSelection);

    if (currentRound === 0) {
        console.log( "Computer chose " + computerSelection + " and Player chose " + playerSelection + ". It's a tie!" );

    } else if (currentRound === 1) {
        console.log( "Computer chose " + computerSelection + " and Player chose " + playerSelection + ". You lose! " + computerSelection + " beats " + playerSelection + "." );
        computerScore++;

    } else if (currentRound === 2) {
        console.log( "Computer chose " + computerSelection + " and Player chose " + playerSelection + ". YOU WIN! " + playerSelection + " beats " + computerSelection + "."  );
        playerScore++;

    } else if (currentRound === 3) {
        console.log( "Computer chose " + computerSelection + " and Player chose " + playerSelection + ". Are you sure you're playing the right game?" );
    }

    console.log( "Player score is " + playerScore );
    console.log( "Computer score is " + computerScore );


    if (playerScore >= maxScore || computerScore >= maxScore){
        gameOver();
    } else {
        return;
    }

}

document.addEventListener('click', game);


</script>

</html>